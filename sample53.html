<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>sample53</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
</head>
<body>
    
    <div id="app">
        <button v-on:click="getData">get JSON asynchronously</button>
    </div>

    <!-- ------------------------------------------------------- -->

    <script>
    
        var vue = new Vue({

            el: '#app',

            methods: {

                getData: function f_getData(event) {
                    console.warn('- vue::methods::f_getData(e) invoked.');

                    // To get JSON document from server by using a various types of axios API.
                    // URL: https://raw.githubusercontent.com/joshua1988/doit-vuejs/master/data/demo.json
                    

                    //------------------------------------------------------------------------------//
                    // 1. Usage: axios(config).then(f).catch(f);
                    //------------------------------------------------------------------------------//
                    //           .then(f) and .catch(f) are optional.
                    //           default method: GET if not specified.
                    //------------------------------------------------------------------------------//
                    // var result = axios({

                    //     url: 'https://raw.githubusercontent.com/joshua1988/doit-vuejs/master/data/demo.json',
                    //     method: 'get',
                    //     responseType: 'json'

                    // }).then(function f_then(response) {
                    //     console.debug('\t+ response:', response);
                    //     console.debug('\t\t++ data:', response.data);       // get HTTP body from HTTP response: object

                    // }).catch(function f_catch(err) {
                    //     console.debug(`1. typeof err: ${ typeof err }, typename: ${ err.constructor.name }`);
                    //     console.debug('2. err:', err);

                    // }); // axios::catch
                    

                    //------------------------------------------------------------------------------//
                    // 2. Usage: axios.request(config).then(f).catch(f);
                    //------------------------------------------------------------------------------//
                    //           .then(f) and .catch(f) are optional.
                    //           default method: GET if not specified.
                    //------------------------------------------------------------------------------//
                    // var result = axios.
                    //     request({
                    //         url: 'https://raw.githubusercontent.com/joshua1988/doit-vuejs/master/data/demo.json',
                    //         method: 'get',
                    //         responseType: 'json'
                    //     }).
                    //     then(function f_then(response) {
                    //         console.debug('\t+ response:', response);
                    //         console.debug('\t\t++ data:', response.data);       // get HTTP body from HTTP response: object

                    //     }).catch(function f_catch(err) {
                    //         console.debug(`1. typeof err: ${ typeof err }, typename: ${ err.constructor.name }`);
                    //         console.debug('2. err:', err);

                    //     }); // axios.request(config).then(f).catch(f)
                    

                    //------------------------------------------------------------------------------//
                    // 3. Usage: axios.get(url[, config]).then(f).catch(f);
                    //------------------------------------------------------------------------------//
                    //           .then(f) and .catch(f) are optional.
                    //           default method: GET if not specified.
                    //------------------------------------------------------------------------------//
                    // var result = axios.
                    //     get('https://raw.githubusercontent.com/joshua1988/doit-vuejs/master/data/demo.json', {
                    //         method: 'get',
                    //         responseType: 'json'
                    //     }).
                    //     then(function f_then(response) {
                    //         console.debug('\t+ response:', response);
                    //         console.debug('\t\t++ data:', response.data);       // get HTTP body from HTTP response: object

                    //     }).catch(function f_catch(err) {
                    //         console.debug(`1. typeof err: ${ typeof err }, typename: ${ err.constructor.name }`);
                    //         console.debug('2. err:', err);

                    //     }); // axios.get(url[, config]).then(f).catch(f)
                    

                    //------------------------------------------------------------------------------//
                    // 4. Usage: 
                    //          axios.get(url[, config]).then(f).catch(f);
                    //          axios.post(url[, config]).then(f).catch(f);
                    //          axios.delete(url[, config]).then(f).catch(f);
                    //          axios.head(url[, config]).then(f).catch(f);
                    //          axios.patch(url[, config]).then(f).catch(f);
                    //          axios.options(url[, config]).then(f).catch(f);
                    //------------------------------------------------------------------------------//
                    //           .then(f) and .catch(f) are optional.
                    //           default method: GET if not specified.
                    //------------------------------------------------------------------------------//



                    //------------------------------------------------------------------------------//
                    // console.debug('3. result:', result);        // ES6: Promise built-in object.
                    //------------------------------------------------------------------------------//
                    

                    //------------------------------------------------------------------------------//
                    // 5. Usage: axios.create([config]).then(f).catch(f);
                    //------------------------------------------------------------------------------//
                    //           .then(f) and .catch(f) are optional.
                    //           default method: GET if not specified.
                    //------------------------------------------------------------------------------//

                     const axiosInstance = axios.create({
                            timeout: 1000,                                          // millisecond
                     }); // To create a instance of axios by using create() function.

                     console.debug('1. axiosInstance:', axiosInstance);         // function

                     // 5-1. axiosInstance.request(config).then(f).catch(f)
                     axiosInstance.request({

                        url: 'https://raw.githubusercontent.com/joshua1988/doit-vuejs/master/data/demo.json',
                        method: 'get',
                        responseType: 'json'

                     }).then(function f_then(response) {
                        console.debug('\t+ response:', response);
                        console.debug('\t\t++ data:', response.data);       // get HTTP body from HTTP response: object

                    }).catch(function f_catch(err) {
                        console.debug(`1. typeof err: ${ typeof err }, typename: ${ err.constructor.name }`);
                        console.debug('2. err:', err);

                    }); // axios.request(config).then(f).catch(f)

                    

                } // f_getData

            } // methods

        }); // Vue Instance.
    
    </script>

</body>
</html>